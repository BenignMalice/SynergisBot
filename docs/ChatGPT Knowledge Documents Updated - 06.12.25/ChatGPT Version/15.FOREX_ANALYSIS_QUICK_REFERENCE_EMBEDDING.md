# FOREX_ANALYSIS_QUICK_REFERENCE_EMBEDDING

# EURUSD ¬∑ GBPUSD ¬∑ USDJPY ¬∑ AUDUSD

# Official Symbol Behaviour & Strategy Context Layer

---

## PURPOSE

Provide symbol-specific behaviour rules for the four major FX pairs:

- EURUSD
- GBPUSD
- USDJPY
- AUDUSD

This file defines:

- volatility tendencies
- structure reliability
- liquidity behaviour
- session interaction
- macro influence weighting
- microstructure constraints
- symbol-specific auto-exec filters

This file does NOT:

- generate structure
- infer trend
- override PRL or Validation Layer
- define breakout or plan templates
- create price levels

---

## SYSTEM HIERARCHY

This document MUST defer to:

1. KNOWLEDGE_DOC_EMBEDDING (OS Layer)
2. Professional Reasoning Layer (PRL)
3. UPDATED_GPT_INSTRUCTIONS_FIXED
4. Volatility / Regime Framework
5. Liquidity & Structure Framework
6. Auto-Execution Knowledge Embedded
7. Global Breakout Framework
8. London Breakout Workflow Embedded **ONLY IF** strategy = London Breakout

If ANY conflict ‚Üí higher-level document wins.

### BREAKOUT LOGIC HIERARCHY (CORRECTED)

Breakout logic MUST follow:

```
breakout_logic_hierarchy:
  - global_breakout_rules
  - prl_requirements
  - volatility_structure_validation
  - liquidity_requirements
  - if_strategy = london_breakout:
      apply_london_breakout_workflow
```

Breakouts are valid in ANY session when global breakout conditions are met.

London Breakout Workflow applies **only** to the London Breakout strategy.

---

## GLOBAL FX RULES

### Forex Rules

- structure_cleaner_than_crypto
- volatility_lower_than_xau_or_btc
- session_behavior_more_predictable
- asian_session = range_creation
- london_session = primary_movement
- ny_session = continuation_or_reversal
- no_structure_inference_allowed
- fresh_price_required_before_symbol_logic
- tool: moneybot.getCurrentPrice (MUST use this exact tool name)
- parameters: `symbol` (string, required, e.g., "EURUSD", "GBPUSD", "USDJPY", "AUDUSD")
- example: `moneybot.getCurrentPrice(symbol: "EURUSD")`
- Analysis tool: moneybot.analyse_symbol_full (for comprehensive FX analysis)
- parameters: `symbol` (string, required)
- returns: SMC structure, technical indicators, macro context, volatility data, microstructure (M1 for EURUSD, M5/M15 for others), **Tick Microstructure Metrics** ‚≠ê NEW (January 2026) - M5/M15/H1/previous_hour/previous_day tick-derived metrics (realized volatility, delta volume, CVD, absorption zones, spread stats, tick rate), **Advanced Features** ‚≠ê NEW (January 2026) - Full structure with all timeframes (M5/M15/M30/H1/H4), candlestick patterns, wick metrics, pattern strength (same as `moneybot.getAdvancedFeatures` - now automatically included) - AUTOMATICALLY INCLUDED - Check "üíß LIQUIDITY & ORDER FLOW" section for "TICK MICROSTRUCTURE" display
- example: `moneybot.analyse_symbol_full(symbol: "EURUSD")`
- macro_factors_are_context_only (not directional signals)

---

# MANDATORY DATA DISPLAY REQUIREMENTS (FOREX)

## MANDATORY FIELD CHECKLIST (EXPLICIT ENUMERATION)

Before generating Forex output, the model MUST verify ALL of these fields are addressed:

**Macro Context Fields (All Required - Symbol-Specific):**
- [ ] EURUSD: DXY value and direction, US10Y, ECB expectations
- [ ] GBPUSD: DXY value and direction, BOE expectations
- [ ] USDJPY: US10Y value and direction (CRITICAL), USD macro sentiment
- [ ] AUDUSD: Commodity sentiment, USD sentiment

**Volatility & Structure Fields (All Required):**
- [ ] ATR value and classification (symbol-specific ranges)
- [ ] Volatility regime (Low/Normal/High)
- [ ] Structure clarity (CHOCH/BOS status, if available)
- [ ] Liquidity zones (PDH/PDL, Asia high/low, equal highs/lows)

**Microstructure Fields (All Required if Available):**
- [ ] EURUSD: M1/M5/M15 microstructure details
- [ ] GBPUSD, USDJPY, AUDUSD: M5/M15 microstructure details
- [ ] Momentum quality
- [ ] Liquidity zones

**Session Context (All Required):**
- [ ] Current session (`response.data.session.name` - ASIA, LONDON, NY, WEEKEND, CRYPTO)
- [ ] Session overlap status (`response.data.session.is_overlap`, `response.data.session.overlap_type`)
- [ ] Minutes remaining (`response.data.session.minutes_remaining`)
- [ ] Session-specific volatility expectations
- [ ] Session-specific valid strategies
- ‚ö†Ô∏è Access from `response.data.session` (structured data) - DO NOT call `getCurrentSession` separately

**News Status (Required when high-impact events present):**
- [ ] High-impact event count (`response.data.news.high_impact_count`)
- [ ] Next high-impact event (`response.data.news.next_event` - event name, time, impact)
- [ ] News guardrail warning (`response.data.news.guardrail`)
- ‚ö†Ô∏è Access from `response.data.news` (structured data) - DO NOT call `getNewsStatus` separately

**If any field is missing from this checklist, the model MUST state:**
"‚ö†Ô∏è FIELD MISSING: [field_name] not addressed in analysis. Regenerating with complete field enumeration."

## MANDATORY INTERPRETATION RULES (NEVER SKIP)

The model MUST evaluate and interpret ALL of the following for EVERY Forex analysis:

### 1. Macro Context (Symbol-Specific)
- **EURUSD**: Display DXY, US10Y, ECB expectations with values and directions
- **GBPUSD**: Display DXY, BOE expectations with values and directions
- **USDJPY**: Display US10Y (CRITICAL - 50% weight), USD macro sentiment
- **AUDUSD**: Display Commodity sentiment, USD sentiment
- Interpretation: State how macro context influences confidence (context only, NOT directional signals)
- Connection: Must influence confidence assessment

### 2. Volatility Regime
- Display: ATR value and regime classification (symbol-specific ranges)
- Interpretation: State which strategies are valid/invalid for this volatility regime
- Connection: Must determine valid strategy families

### 3. Structure Clarity
- Display: CHOCH/BOS status (if available), structure clarity
- Interpretation: State whether structure is clear or unclear
- Connection: Must influence trade validity

### 4. Liquidity Zones
- Display: PDH/PDL, Asia high/low, equal highs/lows with specific price levels
- Interpretation: State which liquidity zones are relevant and why
- Connection: Must influence entry/exit decisions

### 5. Microstructure (if available)
- **EURUSD**: Display M1/M5/M15 microstructure details
- **GBPUSD, USDJPY, AUDUSD**: Display M5/M15 microstructure details
- Interpretation: State how microstructure aligns with HTF bias
- Connection: Must influence entry timing

### 6. Session Context
- Display: Current session (`response.data.session.name`), overlap status, minutes remaining
- Access: `response.data.session` (structured data from `analyse_symbol_full`)
- Interpretation: State which strategies are valid for current session
- Connection: Must influence strategy selection
- ‚ö†Ô∏è **DO NOT** call `getCurrentSession` separately - session data is included in `analyse_symbol_full`

### 7. News Status (When High-Impact Events Present)
- Display: High-impact event count (`response.data.news.high_impact_count`)
- Display: Next high-impact event (`response.data.news.next_event` - event name, time, impact)
- Access: `response.data.news` (structured data from `analyse_symbol_full`)
- Interpretation: State how upcoming news affects trade timing and risk
- Connection: Must influence entry timing and risk management
- ‚ö†Ô∏è **DO NOT** call `getNewsStatus` separately - news data is included in `analyse_symbol_full`

## FINAL VERDICT REQUIREMENT

The final Forex trade verdict MUST reference:
- At least one macro context field (symbol-specific: DXY for EURUSD/GBPUSD/AUDUSD, US10Y for USDJPY)
- At least one volatility/regime field (ATR, volatility regime)
- At least one liquidity/structure field (PDH/PDL, structure clarity, session context)

**Forbidden format:**
"Verdict: WAIT - No clear structure." (Missing macro and volatility references)

**Required format examples:**
- **EURUSD**: "Verdict: WAIT - DXY rising (104.50) = bearish macro context for EUR, volatility normal (ATR 65), structure unclear (no CHOCH/BOS), liquidity balanced between PDH/PDL."
- **USDJPY**: "Verdict: WAIT - US10Y falling (4.25%) = bearish context for USDJPY, volatility normal (ATR 85), structure unclear, session (Asian) = range creation only."

---

### Microstructure Rules

- **EURUSD**: micro-alignment allowed (M1/M5/M15)
- **GBPUSD, USDJPY, AUDUSD**: M5/M15 ONLY
- sweeps must be tool-confirmed
- sweep distances are contextual, never predictive

---

## 1. EURUSD ‚Äî TECHNICAL / CLEAN STRUCTURE

### Behaviour

- Most technical major
- Clean CHOCH/BOS
- Displacement reliable
- DXY strongly influences bias

### Microstructure

- M1 for wick/sweep context only
- Structure = M5 primary, M15 confirmation
- Typical pullbacks:
  - Trend: 20‚Äì40 pips
  - MR: 8‚Äì15 pips
  - Retest: 5‚Äì10 pips

### Structure Rules

- Equal highs/lows = strong liquidity targets
- OB mitigations shallow
- Displacement confirms bias

### Liquidity Rules

- PDH/PDL = strong magnets
- Asia high/low define London setups
- Sweep ‚Üí reaction ‚Üí M5 CHOCH often valid

### Volatility ATR

- Low: 30‚Äì45
- Normal: 45‚Äì75
- High: 75‚Äì120

### Bias Model Weights

- DXY: 40%
- HTF Structure: 30%
- Session Context: 20%
- Micro Momentum: 10%

### SL/TP Guide

- **Trend**: SL = beyond M15 invalidation
- **Reversal**: SL = beyond sweep wick
- **MR**: SL = outside VWAP deviation

### Auto-Execution Filters

**Reject if:**
- ATR < 30
- Asian breakout
- M5/M15 conflict

**Prefer if:**
- London/NY session
- DXY alignment
- Clear invalidation + liquidity target

---

## 2. GBPUSD ‚Äî VOLATILE / DEEP PULLBACKS / FAKEOUT-HEAVY

### Behaviour

- Deeper wicks
- Heavy London manipulation
- Frequent double sweeps

### Microstructure

- No M1
- Structure = M5/M15
- Sweeps: 20‚Äì40+ pips

### Structure Rules

- BOS unreliable without displacement
- OB taps often deep (50‚Äì80%)
- London fakeouts require caution

### Liquidity Rules

- London killzone: aggressive sweeps
- NY: continuation or full reversals

### Volatility ATR

- Low: 50‚Äì70
- Normal: 70‚Äì100
- High: 100‚Äì150

### Bias Model Weights

- Session Context: 40%
- Structure: 30%
- DXY: 20%
- Volatility: 10%

### SL/TP Guide

- **Trend**: SL ‚âà 1.5 √ó OB depth
- **Reversal**: SL = beyond sweep wick
- **MR**: Caution ‚Äî volatility increases risk

### Auto-Execution Filters

**Reject if:**
- MR during London
- Countertrend without CHOCH + displacement

**Prefer if:**
- London sweep ‚Üí CHOCH
- NY continuation with structure + volatility

---

## 3. USDJPY ‚Äî YIELD-DRIVEN / TREND-PERSISTENT

### Behaviour

- Follows US10Y
- Persistent trending behaviour
- Shallow pullbacks

### Microstructure

- Structure = M5/M15
- Pullbacks: 10‚Äì30 pips
- Sweeps: impulsive

### Structure Rules

- BOS chains = trend continuation
- OB retests precise

### Liquidity Rules

- Reversals must align with yield behaviour
- Yield conflict ‚Üí downgrade reversal setups

### Volatility ATR

- Low: 40‚Äì60
- Normal: 60‚Äì110
- High: 110‚Äì160

### Bias Model Weights

- US10Y: 50%
- USD Macro: 30%
- Structure: 20%

### SL/TP Guide

- **Trend**: SL = beyond OB wick
- **Reversal**: SL = beyond displacement body

### Auto-Execution Filters

**Reject if:**
- Reversal against US10Y
- Late NY volatility spikes

**Prefer if:**
- Trend aligned with yields
- Strong BOS chain

---

## 4. AUDUSD ‚Äî MR / VWAP / COMMODITY-SENSITIVE

### Behaviour

- Strong VWAP mean reversion tendencies
- Commodity-linked
- Asia forms structure

### Microstructure

- Sweeps: 8‚Äì15 pips
- Structure = M5/M15
- FVG fills deep (60‚Äì80%)

### Structure Rules

- Shallow OB touch
- VWAP magnet behaviour
- London chop risk

### Liquidity Rules

- Asia range defines NY play
- NY breakout or reversal driven by USD strength

### Volatility ATR

- Low: 25‚Äì40
- Normal: 40‚Äì60
- High: 60‚Äì90

### Bias Model Weights

- Commodity: 30%
- USD Sentiment: 30%
- Session: 20%
- Structure: 20%

### SL/TP Guide

- **Trend**: SL = beyond VWAP deviation + key swing
- **Reversal**: SL = beyond sweep wick
- **MR**: Tighter stops ‚Äî pair respects structure

### Auto-Execution Filters

**Reject if:**
- London low-vol chop
- Commodity sentiment opposes price

**Prefer if:**
- Asia MR/VWAP play
- NY continuation with DXY alignment

---

## 5. GLOBAL FX EXECUTION RULES

### FX Execution Rules

- Session + regime MUST align with strategy
- Avoid Asian breakouts unless volatility expansion confirmed
- Macro vs structure conflict ‚Üí WAIT
- Unclear regime ‚Üí WAIT or micro-scalp
- Liquidity target must be clear and structurally reachable
- Volatility must support the strategy family
- Structure must be clean (no conflicting BOS/CHOCH)
- Breakouts must follow the global breakout framework (NOT London-specific)
- Advanced volatility states override basic volatility rules (see ADVANCED VOLATILITY STATES)

### Validation Failures

- Fail any PRL step ‚Üí WAIT
- Fail any validation layer condition ‚Üí WAIT or micro-scalp

---

## ADVANCED VOLATILITY STATES (Phase 1.4)

**Reference**: AUTO_EXECUTION_CHATGPT_KNOWLEDGE_EMBEDDED.md for detection criteria.

### PRE_BREAKOUT_TENSION (Forex Behavior)

**Forex Characteristics:**
- Forex pairs compress before major moves (especially London/NY opens)
- BB width narrows to <1.5% (bottom 20th percentile)
- Wick variance increases ‚â•30% (institutional accumulation/distribution)
- Intra-bar volatility rising ‚â•20% (pressure building)

**Valid Strategies:**
- `breakout_ib_volatility_trap` (prioritize - compression before breakout)
- `liquidity_sweep_reversal` (prioritize - sweep likely after compression)
- `breaker_block` (prioritize - failed OB retest after compression)

**Avoid:**
- `mean_reversion_range_scalp` (compression suggests breakout, not range)
- `trend_continuation_pullback` (compression suggests new move, not pullback)

**Forex-Specific Notes:**
- Forex compression often resolves during London/NY opens
- EURUSD/GBPUSD compression more reliable than USDJPY/AUDUSD
- Compression periods often see increased order block quality

### POST_BREAKOUT_DECAY (Forex Behavior)

**Forex Characteristics:**
- Forex breakouts often fade quickly (5-30 minutes after breakout)
- ATR declining ‚â•5% per period (momentum fading)
- ATR still above baseline (>1.2x) but declining
- Common after London/NY session opens

**Valid Strategies:**
- `mean_reversion_range_scalp` (prioritize - momentum fading, mean reversion works)
- `fvg_retracement` (prioritize - FVG fills after breakout)
- `order_block_rejection` (prioritize - OB rejection after breakout)

**Avoid:**
- `trend_continuation_pullback` (momentum fading - continuation unlikely)
- `breakout_ib_volatility_trap` (breakout already occurred)
- `market_structure_shift` (momentum fading - structure shift unlikely)

**Forex-Specific Notes:**
- Forex often retraces 50-61.8% after breakouts before continuing
- Post-breakout decay more common in Asian/Late NY sessions
- GBPUSD shows stronger post-breakout decay than EURUSD

### FRAGMENTED_CHOP (Forex Behavior)

**Forex Characteristics:**
- Forex can show choppy behavior during low-liquidity periods (Asian session)
- Whipsaw detected (‚â•3 direction changes in 5 candles)
- Mean reversion pattern (price oscillating within 0.5 ATR of VWAP)
- Low ADX (<15) indicating low momentum

**Valid Strategies:**
- `micro_scalp` (prioritize - only valid strategy in chop)
- `mean_reversion_range_scalp` (prioritize - mean reversion works in chop)

**Avoid:**
- `trend_continuation_pullback` (no clear trend)
- `breakout_ib_volatility_trap` (choppy conditions - no clean breakout)
- `liquidity_sweep_reversal` (choppy conditions - sweeps unreliable)
- `market_structure_shift` (no clear structure)
- `fvg_retracement` (choppy conditions - FVG unreliable)

**Forex-Specific Notes:**
- Forex chop more common during Asian session or low-volume periods
- Chop often precedes major moves (watch for PRE_BREAKOUT_TENSION transition)
- VWAP becomes strong magnet during chop
- EURUSD shows less chop than GBPUSD/USDJPY

### SESSION_SWITCH_FLARE (Forex Behavior)

**Forex Characteristics:**
- Forex often spikes during London/NY session transitions
- Volatility spike (ATR >1.5x baseline) during session change
- Flare resolving (ATR declining ‚â•10% from spike within 30 minutes)
- Common at 08:00 UTC (London open) and 13:00 UTC (NY open)

**Valid Strategies:**
- [] (empty - WAIT required)

**Avoid:**
- ALL (blocks all strategies during flare)

**Forex-Specific Notes:**
- Forex flare more common during London/NY opens
- Flare often resolves within 15-30 minutes
- Wait for stabilization before creating plans
- Flare can trigger false breakouts - wait for confirmation
- GBPUSD shows stronger flares than EURUSD

**Accessing Volatility Metrics:**
- Check `response.data.volatility_metrics.regime` from `moneybot.analyse_symbol_full`
- Check `response.data.volatility_metrics.strategy_recommendations` for prioritize/avoid lists
- If `wait_reason` present ‚Üí DO NOT create plan

---

# END_OF_DOCUMENT
