# GOLD_ANALYSIS_QUICK_REFERENCE_EMBEDDING
# Official XAUUSD Behaviour, Volatility, Session & Liquidity Framework

## PURPOSE
Defines symbol-specific behaviour, volatility tendencies, liquidity patterns, structure characteristics, session interaction, and execution filters for XAUUSD.

This document does NOT:
- infer structure  
- infer trend  
- generate entries  
- override PRL or the Validation Layer  
- define plan templates  
- produce price levels  

This document MUST follow:
- KNOWLEDGE_DOC_EMBEDDING (OS Layer)  
- Professional Reasoning Layer (PRL)  
- UPDATED_GPT_INSTRUCTIONS_FIXED  
- Volatility & Regime Framework  
- Liquidity & Structure Framework  
- Auto-Execution Knowledge Embedded  
- Global Breakout Framework  

London Breakout Workflow applies **only** when strategy = London Breakout.

---

# SYSTEM REQUIREMENTS FOR GOLD
- Fresh price required before any gold logic.
- tool: moneybot.getCurrentPrice (MUST use this exact tool name)
- parameters: `symbol` (string, required, e.g., "XAUUSD")
- example: `moneybot.getCurrentPrice(symbol: "XAUUSD")`
- Structure must be tool-confirmed or user-provided.
- Analysis tool: moneybot.analyse_symbol_full (for comprehensive XAUUSD analysis)
- parameters: `symbol` (string, required, e.g., "XAUUSD")
- returns: SMC structure, technical indicators, macro context, volatility data, M1 microstructure (if available), **Tick Microstructure Metrics** ‚≠ê NEW (January 2026) - M5/M15/H1/previous_hour/previous_day tick-derived metrics (realized volatility, delta volume, CVD, absorption zones, spread stats, tick rate), **Advanced Features** ‚≠ê NEW (January 2026) - Full structure with all timeframes (M5/M15/M30/H1/H4), candlestick patterns, wick metrics, pattern strength, liquidity targets, FVG (same as `moneybot.getAdvancedFeatures` - now automatically included), **Complete Multi-Timeframe Analysis** (H4/H1/M30/M15/M5), **Enhanced Data Fields** ‚≠ê NEW (December 2025) - Correlation context (DXY, SP500, US10Y, BTC), HTF levels (weekly/monthly opens, premium/discount zones), Session risk (rollover, news lock), Execution context (spread/slippage quality), Strategy stats (historical performance), Structure summary (range type, liquidity sweeps), Symbol constraints (max trades, banned strategies) - **AUTOMATICALLY INCLUDED** in `moneybot.analyse_symbol_full`! Check the "üíß LIQUIDITY & ORDER FLOW" section for "TICK MICROSTRUCTURE" and the "üìä ENHANCED DATA FIELDS ‚≠ê NEW" section in the analysis summary.
- **‚ö†Ô∏è CRITICAL: Enhanced Data Fields Integration Requirements:**
  - Enhanced Data Fields are NEVER "low-impact" or "trivial" - they are ALWAYS critical
  - Missing/unavailable Enhanced Data Fields MUST be explicitly acknowledged - this is MANDATORY
  - Symbol constraints MUST be explicitly referenced and applied to position sizing
  - Always include a "‚ö†Ô∏è ENHANCED DATA FIELDS INTEGRATION" section that acknowledges ALL missing/unavailable fields
  - See `1.KNOWLEDGE_DOC_EMBEDDING.md` and `7.AUTO_EXECUTION_CHATGPT_KNOWLEDGE_EMBEDDED.md` for detailed integration rules and examples
- example: `moneybot.analyse_symbol_full(symbol: "XAUUSD")`
- **Multi-Timeframe Analysis Access**:
  - MTF data accessible via: `response.data.smc.timeframes.*` (H4, H1, M30, M15, M5)
  - H4 bias (primary trend): `response.data.smc.trend` (extracted from H4: "BULLISH", "BEARISH", "NEUTRAL", "UNKNOWN")
  - Multi-timeframe alignment: `response.data.smc.alignment_score` (0-100)
  - CHOCH/BOS detection per timeframe: `response.data.smc.timeframes.H4.choch_detected`, `response.data.smc.timeframes.H4.bos_detected`, etc.
  - Aggregated CHOCH/BOS: `response.data.smc.choch_detected`, `response.data.smc.bos_detected` (calculated from all timeframes)
- Macro context tool: moneybot.macro_context (for DXY, US10Y, VIX data)
- parameters: `symbol` (string, e.g., "XAUUSD")
- returns: DXY, US10Y, Real Yields, VIX, SPX, Fed expectations
- No inference of BOS, CHOCH, sweep, OB, or FVG.  
- Volatility must support the chosen strategy family.  
- Liquidity context must be clear and confirmed.  
- Breakout logic must follow the global breakout hierarchy.

---

# MANDATORY DATA DISPLAY REQUIREMENTS (XAUUSD)

## MANDATORY FIELD CHECKLIST (EXPLICIT ENUMERATION)

Before generating XAUUSD output, the model MUST verify ALL of these fields are addressed:

**Macro Context Fields (All Required):**
- [ ] DXY value and direction
- [ ] US10Y value and direction
- [ ] Real Yields (if available)
- [ ] VIX (if available)
- [ ] SPX (if available)
- [ ] Fed expectations (if available)

**Volatility & Structure Fields (All Required):**
- [ ] ATR value and classification
- [ ] Volatility regime (Low/Normal/High/Extreme)
- [ ] Structure clarity (CHOCH/BOS status, if available)
- [ ] Liquidity zones (PDH/PDL, Asia high/low, session highs/lows)

**Microstructure Fields (All Required if Available):**
- [ ] M1 volatility state (if available)
- [ ] Momentum quality
- [ ] Liquidity zones (PDH/PDL levels)
- [ ] VWAP deviation and position
- [ ] **Tick Microstructure Metrics** ‚≠ê NEW (if available from `response.data.tick_metrics`):
  - [ ] M5/M15/H1 realized volatility and volatility ratios
  - [ ] Delta volume and CVD slope (M5, M15, H1)
  - [ ] Dominant side (BUY/SELL/NEUTRAL)
  - [ ] Absorption zones count and locations
  - [ ] Spread statistics (mean, std, widening events)
  - [ ] Tick rate and activity metrics
  - [ ] Previous hour net delta and dominant side

**Session Context (All Required):**
- [ ] Current session (`response.data.session.name` - ASIA, LONDON, NY, WEEKEND, CRYPTO)
- [ ] Session overlap status (`response.data.session.is_overlap`, `response.data.session.overlap_type`)
- [ ] Minutes remaining (`response.data.session.minutes_remaining`)
- [ ] Session-specific volatility expectations
- [ ] Session-specific valid strategies
- ‚ö†Ô∏è Access from `response.data.session` (structured data) - DO NOT call `getCurrentSession` separately

**If any field is missing from this checklist, the model MUST state:**
"‚ö†Ô∏è FIELD MISSING: [field_name] not addressed in analysis. Regenerating with complete field enumeration."

## MANDATORY INTERPRETATION RULES (NEVER SKIP)

The model MUST evaluate and interpret ALL of the following for EVERY XAUUSD analysis:

### 1. Macro Context
- Display: DXY, US10Y, Real Yields, VIX, SPX with values and directions
- Interpretation: State how macro context influences confidence (e.g., "DXY rising + US10Y falling = bearish macro context for gold")
- Connection: Must influence confidence assessment, NOT directional signals

### 2. Volatility Regime
- Display: ATR value and regime classification (Low/Normal/High/Extreme)
- Interpretation: State which strategies are valid/invalid for this volatility regime
- Connection: Must determine valid strategy families

### 3. Structure Clarity
- Display: CHOCH/BOS status (if available), structure clarity
- Interpretation: State whether structure is clear or unclear
- Connection: Must influence trade validity

### 4. Liquidity Zones
- Display: PDH/PDL, Asia high/low, session highs/lows with specific price levels
- Interpretation: State which liquidity zones are relevant and why
- Connection: Must influence entry/exit decisions

### 5. Microstructure (if available)
- Display: M1 volatility state, momentum quality, VWAP deviation
- **Tick Microstructure Metrics** ‚≠ê NEW (MANDATORY DISPLAY):
  - **MUST include "TICK MICROSTRUCTURE" section** when `response.data.tick_metrics` is available and `tick_metrics.metadata.data_available == true`
  - Display format (MANDATORY):
    ```
    TICK MICROSTRUCTURE:
    M5: Delta [+/-XXK] ([BUY/SELL/NEUTRAL]) | CVD: [up/down/flat] | Spread: [X.X]+/-[X.X]
    M15: Vol [X.XX]% ([X.X]x avg) | Absorption: [N] zones
    H1: Volatility [expanding/stable/contracting] ([X.XX]x) | Tick rate: [X.X]/sec
    Hour: [XXK] ticks | Net delta: [+/-XXK] | Dominant: [BUY/SELL/NEUTRAL]
    ```
  - Location: After "üíß LIQUIDITY & ORDER FLOW" section, before "üìä MARKET CONTEXT" section
  - Access: `response.data.tick_metrics.M5`, `response.data.tick_metrics.M15`, `response.data.tick_metrics.H1`, `response.data.tick_metrics.previous_hour`
  - See `20.ORDER_FLOW_AND_ABSORPTION_FRAMEWORK_EMBEDDING.md` for complete field reference and interpretation rules
- Interpretation: State how microstructure aligns with HTF bias
- Connection: Must influence entry timing
- **Priority**: When `tick_metrics` is available, use it to validate structure bias and adjust confluence scoring

### 6. Session Context
- Display: Current session (`response.data.session.name`), overlap status, minutes remaining
- Access: `response.data.session` (structured data from `analyse_symbol_full`)
- Interpretation: State which strategies are valid for current session
- Connection: Must influence strategy selection
- ‚ö†Ô∏è **DO NOT** call `getCurrentSession` separately - session data is included in `analyse_symbol_full`

### 7. News Status (When High-Impact Events Present)
- Display: High-impact event count (`response.data.news.high_impact_count`)
- Display: Next high-impact event (`response.data.news.next_event` - event name, time, impact)
- Access: `response.data.news` (structured data from `analyse_symbol_full`)
- Interpretation: State how upcoming news affects trade timing and risk
- Connection: Must influence entry timing and risk management
- ‚ö†Ô∏è **DO NOT** call `getNewsStatus` separately - news data is included in `analyse_symbol_full`

## FINAL VERDICT REQUIREMENT

The final XAUUSD trade verdict MUST reference:
- At least one macro context field (DXY, US10Y)
- At least one volatility/regime field (ATR, volatility regime)
- At least one liquidity/structure field (PDH/PDL, structure clarity, session context)

**Forbidden format:**
"Verdict: WAIT - No clear structure." (Missing macro and volatility references)

**Required format:**
"Verdict: WAIT - DXY rising (104.50) + US10Y falling (4.25%) = bearish macro context, volatility normal (ATR 45), structure unclear (no CHOCH/BOS), liquidity balanced between PDH/PDL."

### Global Breakout Hierarchy
- Follow global breakout rules.  
- Follow PRL requirements.  
- Apply volatility-structure validation.  
- Apply liquidity requirements.  
- If strategy = London Breakout ‚Üí apply the London Breakout Workflow.

---

# 1. MACRO CONTEXT (CONTEXT-ONLY)
Macro data influences confidence but never generates setups.

### Macro Fields
- DXY  
- US10Y  
- Real yields  
- VIX  
- SPX  
- Fed expectations  

### Macro Interpretation Rules
- Macro signals modify confidence only.  
- Macro vs structure conflict ‚Üí downgrade to neutral.  
- Macro NEVER overrides structure + volatility + liquidity.

---

# 2. VOLATILITY REGIMES FOR GOLD

## Low Volatility (Asian-like)
**Characteristics**
- Narrow ranges  
- VWAP gravity  
- Small wicks  
- Clean OB/FVG behaviour  

**Valid Strategies**
- Mean-reversion  
- VWAP reversion  
- Micro-scalps  

**Avoid**
- Breakouts  
- Aggressive trend continuation  

---

## Normal Volatility
**Characteristics**
- Clean swings  
- Reliable displacement  
- Frequent sweep ‚Üí CHOCH setups  

**Valid Strategies**
- Trend continuation  
- Sweep reversal  
- VWAP reversion (non-trending)  

---

## High Volatility (London/NY)
**Characteristics**
- Expanded ATR  
- Impulsive displacement  
- Strong liquidity hunts  

**Valid Strategies**
- Breakout continuation  
- Failed breakout traps  

**Avoid**
- Tight SL entries  
- VWAP mean-reversion  

---

## Extreme Volatility (Major News)
**Characteristics**
- Structure unreliable  
- ATR spikes  
- Spreads widen  

**Valid Strategies**
- None except pre-planned news setups  

**Avoid**
- Discretionary trades  

---

## Volatility‚ÄìStructure Conflict Rules
- If structure suggests breakout but volatility collapses ‚Üí invalid.  
- If volatility expands but structure shows absorption ‚Üí invalid.  
- If pre_breakout_tension but structure shows breakout already occurred ‚Üí invalid
- If post_breakout_decay but structure shows continuation ‚Üí invalid
- If fragmented_chop but structure shows clear trend ‚Üí invalid
- If session_switch_flare detected ‚Üí block all plans
- Volatility has priority in conflict resolution.

---

## ADVANCED VOLATILITY STATES (Phase 1.4)

**Reference**: AUTO_EXECUTION_CHATGPT_KNOWLEDGE_EMBEDDED.md for detection criteria.

### PRE_BREAKOUT_TENSION (XAUUSD Behavior)

**XAUUSD Characteristics:**
- Gold often compresses before major moves (especially London/NY opens)
- BB width narrows to <1.5% (bottom 20th percentile)
- Wick variance increases ‚â•30% (institutional accumulation/distribution)
- Intra-bar volatility rising ‚â•20% (pressure building)

**Valid Strategies:**
- `breakout_ib_volatility_trap` (prioritize - compression before breakout)
- `liquidity_sweep_reversal` (prioritize - sweep likely after compression)
- `breaker_block` (prioritize - failed OB retest after compression)

**Avoid:**
- `mean_reversion_range_scalp` (compression suggests breakout, not range)
- `trend_continuation_pullback` (compression suggests new move, not pullback)

**XAUUSD-Specific Notes:**
- Gold compression often resolves during London/NY opens
- Watch for DXY/US10Y correlation during compression (macro context critical)
- Compression periods often see increased order block quality

### POST_BREAKOUT_DECAY (XAUUSD Behavior)

**XAUUSD Characteristics:**
- Gold breakouts often fade quickly (5-30 minutes after breakout)
- ATR declining ‚â•5% per period (momentum fading)
- ATR still above baseline (>1.2x) but declining
- Common after London/NY session opens

**Valid Strategies:**
- `mean_reversion_range_scalp` (prioritize - momentum fading, mean reversion works)
- `fvg_retracement` (prioritize - FVG fills after breakout)
- `order_block_rejection` (prioritize - OB rejection after breakout)

**Avoid:**
- `trend_continuation_pullback` (momentum fading - continuation unlikely)
- `breakout_ib_volatility_trap` (breakout already occurred)
- `market_structure_shift` (momentum fading - structure shift unlikely)

**XAUUSD-Specific Notes:**
- Gold often retraces 50-61.8% after breakouts before continuing
- Post-breakout decay more common in Asian/Late NY sessions
- Watch for DXY reversal during decay (can accelerate retracement)

### FRAGMENTED_CHOP (XAUUSD Behavior)

**XAUUSD Characteristics:**
- Gold can show choppy behavior during low-liquidity periods
- Whipsaw detected (‚â•3 direction changes in 5 candles)
- Mean reversion pattern (price oscillating within 0.5 ATR of VWAP)
- Low ADX (<15) indicating low momentum

**Valid Strategies:**
- `micro_scalp` (prioritize - only valid strategy in chop)
- `mean_reversion_range_scalp` (prioritize - mean reversion works in chop)

**Avoid:**
- `trend_continuation_pullback` (no clear trend)
- `breakout_ib_volatility_trap` (choppy conditions - no clean breakout)
- `liquidity_sweep_reversal` (choppy conditions - sweeps unreliable)
- `market_structure_shift` (no clear structure)
- `fvg_retracement` (choppy conditions - FVG unreliable)

**XAUUSD-Specific Notes:**
- Gold chop more common during Asian session or low-volume periods
- Chop often precedes major moves (watch for PRE_BREAKOUT_TENSION transition)
- VWAP becomes strong magnet during chop

### SESSION_SWITCH_FLARE (XAUUSD Behavior)

**XAUUSD Characteristics:**
- Gold often spikes during London/NY session transitions
- Volatility spike (ATR >1.5x baseline) during session change
- Flare resolving (ATR declining ‚â•10% from spike within 30 minutes)
- Common at 08:00 UTC (London open) and 13:00 UTC (NY open)

**Valid Strategies:**
- [] (empty - WAIT required)

**Avoid:**
- ALL (blocks all strategies during flare)

**XAUUSD-Specific Notes:**
- Gold flare more common during London/NY opens
- Flare often resolves within 15-30 minutes
- Wait for stabilization before creating plans
- Flare can trigger false breakouts - wait for confirmation

**Accessing Volatility Metrics:**
- Check `response.data.volatility_metrics.regime` from `moneybot.analyse_symbol_full`
- Check `response.data.volatility_metrics.strategy_recommendations` for prioritize/avoid lists
- If `wait_reason` present ‚Üí DO NOT create plan

---

# 3. SESSION BEHAVIOUR (XAUUSD)

## Asian Session
- Low volatility  
- Range-forming behaviour  
- VWAP magnet  
**Valid:** MR, VWAP, micro-scalps  
**Avoid:** Trend continuation, breakouts  

## London Open (08:00‚Äì08:30 UTC)
- High sweep probability  
- Fakeouts common  
**Valid:** Sweep reversals  
**Avoid:** Blind breakouts  

## London Session
- Highest structural clarity  
**Valid:** Displacement continuation, reversal traps  

## New York Open
- Peak volatility  
- Strong expansions  
**Valid:** Breakout continuation, impulse plays  

## Late NY
- Reduced structure reliability  
**Valid:** Selective MR scalps  
**Avoid:** Fresh continuation trades  

---

# 4. LIQUIDITY PRIORITY MODEL (XAUUSD)

### High-Priority Signals
- Sweep of PDH/PDL  
- Sweep of Asia high/low  
- NYO displacement from liquidity  

### Medium-High Priority
- HTF OB (H1‚ÄìH4) in premium/discount  
- FVG aligned with external liquidity  
- VWAP deviation ‚â• 1 ATR  
- Session alignment  

### Medium Priority
- RSI/MACD confluence  

### Low Priority
- ADX trend confirmation  

### Liquidity Laws
- Liquidity > indicators  
- Sweep without displacement ‚Üí ignore  
- Displacement without retrace ‚Üí continuation only  

---

# 5. VALIDITY REQUIREMENTS

## Reversal (Sweep ‚Üí CHOCH ‚Üí Retest)
Required:
- Confirmed sweep  
- Tool-validated CHOCH (M1‚ÄìM5)  
- Strong displacement  
- Retrace into OB/FVG  

Missing any element ‚Üí reversal invalid.

---

## Continuation (Trend Pullback)
Required:
- BOS chain (M15/H1)  
- Volatility stable or expanding  
- Pullback into OB/FVG  
- No immediate opposite sweep  

Missing ‚Üí continuation invalid.

---

# 6. INVALIDATION RULES

## Trend Invalidation
- Opposing sweep + failure to resume  
- Volatility collapse after displacement  
- Opposite VWAP reclaim  
- Failed OB/FVG retest + structure flip  

## Reversal Invalidation
- Sweep without CHOCH  
- Weak displacement  
- Volatility contraction  
- Return to range  

## Scalp Invalidation
- Sudden volatility spike  
- VWAP flattening + impulse burst  
- Spread widening  

Invalid setup ‚Üí WAIT or NO_TRADE.

---

# 7. INSTITUTIONAL TIMING WINDOWS (XAUUSD)

- 08:00‚Äì08:30 UTC ‚Üí London sweep window  
- 12:30‚Äì13:00 UTC ‚Üí NYO volatility burst  
- 14:30‚Äì15:00 UTC ‚Üí CME metals influence  
- After 16:00 UTC ‚Üí structure unreliable  

Timing adjusts:
- volatility expectations  
- reversal vs continuation probability  
- sweep likelihood  

---

# 8. GOLD ALIGNMENT FRAMEWORK

A valid gold setup requires:
- Regime alignment  
- Session alignment  
- Volatility alignment  
- Liquidity alignment  
- Tool-confirmed structure  

If ANY element misaligns:
- Do NOT generate auto-exec plan  
- Respond with WAIT or micro-scalp (if regime permits)

---

# 9. GOLD LAWS (COMPACT)

- Liquidity context > indicators  
- Volatility state determines valid strategy families  
- Macro = confidence modifier only  
- Session determines reliability  
- Structure valid ONLY when liquidity + volatility confirm  
- Invalidation overrides all pattern setups  
- Trade only when Regime + Session + Volatility + Liquidity + Structure all agree  

---

# END_OF_DOCUMENT
